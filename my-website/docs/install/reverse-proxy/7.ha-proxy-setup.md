---
id: haproxy
title: HAProxy
---

:::info

Also see [pfSense and HAProxy](./pfsense-haproxy)

:::

Below is a generic HAProxy config, using `audiobookshelf.YOUR_DOMAIN.COM`.

To use `http2`, `ssl` is needed.

```haproxy
global
    # ... (your global settings go here)

defaults
    mode http
    # ... (your default settings go here)

frontend my_frontend
    bind :443 name :443 ssl crt-list /path/to/cert.crt_list alpn h2,http/1.1
    mode http

    acl is_audiobookshelf hdr_beg(host) -i audiobookshelf

    use_backend audiobookshelf_backend if is_audiobookshelf
    default_backend default_backend

backend audiobookshelf_backend
    mode http
    server audiobookshelf_server 127.0.0.99:13378

backend default_backend
    mode http
    server default_server 127.0.0.123:8081
```
