---
id: pfsense-haproxy
title: pfSense + HAProxy
---

For pfSense the inputs are graphical, and `Health checking` is enabled.

## Access Control Lists

| Name           | Expression        | CS  | Not | Value           |
| -------------- | ----------------- | --- | --- | --------------- |
| audiobookshelf | Host starts with: |     |     | audiobookshelf. |

## Actions

The `condition acl names` needs to match the name above `audiobookshelf`.

| Action      | Parameters     | Condition acl names |
| ----------- | -------------- | ------------------- |
| Use Backend | audiobookshelf | audiobookshelf      |

## Backend

The `Name` needs to match the `Parameters` above `audiobookshelf`.

| Name | audiobookshelf |
| ---- | -------------- |

### Server list

| Name           | Expression        | CS  | Not | Value           |
| -------------- | ----------------- | --- | --- | --------------- |
| audiobookshelf | Host starts with: |     |     | audiobookshelf. |

### Health checking

Health checking is enabled by default. `Http check method` of `OPTIONS` is not supported on Audiobookshelf. If Health check fails, data will not be forwarded. Need to do one of following:

- To disable: Change `Health check method` to `none`.
- To make Health checking function: Change `Http check method` to `HEAD` or `GET`.
